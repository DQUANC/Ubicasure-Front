{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/perez/OneDrive/Escritorio/map/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { HttpHeaders } from '@angular/common/http';\nimport { environment } from 'src/environments/environment';\nimport firebase from 'firebase/compat/app';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/fire/compat/auth\";\nexport class StationRestService {\n  constructor(http, fireAuth) {\n    this.http = http;\n    this.fireAuth = fireAuth;\n    this.httpOptions = new HttpHeaders().set('Content-Type', 'application/json');\n  }\n\n  createStation(params) {\n    return this.http.post(environment.baseUri + 'station/createStation', params, {\n      headers: this.httpOptions\n    });\n  }\n\n  getStations() {\n    return this.http.get(environment.baseUri + 'station/getStations', {\n      headers: this.httpOptions\n    });\n  }\n\n  loginGoogle() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        _this.fireAuth.setPersistence('none');\n\n        return yield _this.fireAuth.signInWithPopup(new firebase.auth.GoogleAuthProvider());\n      } catch (err) {\n        return console.log(err);\n      }\n    })();\n  }\n\n}\n\nStationRestService.ɵfac = function StationRestService_Factory(t) {\n  return new (t || StationRestService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.AngularFireAuth));\n};\n\nStationRestService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: StationRestService,\n  factory: StationRestService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";AACA,SAAqBA,WAArB,QAAwC,sBAAxC;AACA,SAASC,WAAT,QAA4B,8BAA5B;AAEA,OAAOC,QAAP,MAAqB,qBAArB;;;;AAKA,OAAM,MAAOC,kBAAP,CAAyB;EAG7BC,YACUC,IADV,EAEUC,QAFV,EAEmC;IADzB;IACA;IAJV,mBAAc,IAAIN,WAAJ,GAAkBO,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,CAAd;EAKO;;EAEPC,aAAa,CAACC,MAAD,EAAU;IACrB,OAAO,KAAKJ,IAAL,CAAUK,IAAV,CAAeT,WAAW,CAACU,OAAZ,GAAsB,uBAArC,EAA8DF,MAA9D,EAAsE;MAACG,OAAO,EAAE,KAAKC;IAAf,CAAtE,CAAP;EACD;;EAEDC,WAAW;IACT,OAAO,KAAKT,IAAL,CAAUU,GAAV,CAAcd,WAAW,CAACU,OAAZ,GAAsB,qBAApC,EAA2D;MAACC,OAAO,EAAE,KAAKC;IAAf,CAA3D,CAAP;EACD;;EAGKG,WAAW;IAAA;;IAAA;MACf,IAAG;QACD,KAAI,CAACV,QAAL,CAAcW,cAAd,CAA6B,MAA7B;;QACA,aAAa,KAAI,CAACX,QAAL,CAAcY,eAAd,CAA8B,IAAIhB,QAAQ,CAACiB,IAAT,CAAcC,kBAAlB,EAA9B,CAAb;MACD,CAHD,CAGC,OAAMC,GAAN,EAAU;QACT,OAAOC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAP;MACD;IANc;EAOhB;;AAxB4B;;;mBAAlBlB,oBAAkBqB;AAAA;;;SAAlBrB;EAAkBsB,SAAlBtB,kBAAkB;EAAAuB,YAFjB","names":["HttpHeaders","environment","firebase","StationRestService","constructor","http","fireAuth","set","createStation","params","post","baseUri","headers","httpOptions","getStations","get","loginGoogle","setPersistence","signInWithPopup","auth","GoogleAuthProvider","err","console","log","i0","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\perez\\OneDrive\\Escritorio\\map\\src\\app\\services\\stationRest\\station-rest.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { environment } from 'src/environments/environment';\nimport { AngularFireAuth } from '@angular/fire/compat/auth';\nimport firebase from 'firebase/compat/app';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StationRestService {\n  httpOptions = new HttpHeaders().set('Content-Type', 'application/json');\n  \n  constructor(\n    private http: HttpClient,\n    private fireAuth: AngularFireAuth\n    ) { }\n\n  createStation(params:{}){\n    return this.http.post(environment.baseUri + 'station/createStation', params, {headers: this.httpOptions});\n  }\n\n  getStations(){\n    return this.http.get(environment.baseUri + 'station/getStations', {headers: this.httpOptions});\n  }\n  g\n  \n  async loginGoogle(){\n    try{\n      this.fireAuth.setPersistence('none');\n      return await this.fireAuth.signInWithPopup(new firebase.auth.GoogleAuthProvider());\n    }catch(err){\n      return console.log(err);\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}